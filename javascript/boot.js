!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=Injector,n=e.n(t),s=React,r=e.n(s),a=ReactDom,i=FieldHolder,o=e.n(i),p=i18n,l=e.n(p),d=Reactstrap,u=PropTypes,c=e.n(u);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},h.apply(this,arguments)}class g extends s.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}getReadonlyField(){let e=this.props.source&&this.props.source.find((e=>e.value===this.props.value));return e="string"==typeof e?e:this.props.value||"",r().createElement(d.Input,h({plaintext:!0},this.getInputProps(),{tag:"p"}),e)}getSelectField(){const e=this.props.source?this.props.source.slice():[];return this.props.data.hasEmptyDefault&&!e.find((e=>!e.value))&&e.unshift({value:"",title:this.props.data.emptyString,disabled:!1}),r().createElement(d.Input,h({type:"select"},this.getInputProps()),e.map(((e,t)=>{const n="".concat(this.props.name,"-").concat(e.value||"empty".concat(t)),s=e.description||null;return r().createElement("option",{key:n,value:e.value,disabled:e.disabled,title:s},e.title)})))}getInputProps(){const e={className:"".concat(this.props.className," ").concat(this.props.extraClass," no-chosen"),id:this.props.id,name:this.props.name,disabled:this.props.disabled,"data-link":this.props.link,"data-depends":this.props.depends,"data-unselected":this.props.unselected,"data-empty":this.props.data.emptyString};return this.props.readOnly||Object.assign(e,{onChange:this.handleChange,value:this.props.value||""}),e}handleChange(e){"function"==typeof this.props.onChange&&this.props.onChange(e,{id:this.props.id,value:e.target.value})}render(){let e=null;return e=this.props.readOnly?this.getReadonlyField():this.getSelectField(),e}componentDidMount(){const e=(0,a.findDOMNode)(this).closest("form").querySelector("input[name="+CSS.escape(this.props.depends)+"]");e&&e.closest(".treedropdownfield").setAttribute("data-dependent-field",this.props.name)}}g.propTypes={id:c().string,name:c().string.isRequired,onChange:c().func,value:c().oneOfType([c().string,c().number]),readOnly:c().bool,disabled:c().bool,link:c().string.isRequired,depends:c().string.isRequired,unselected:c().string,source:c().arrayOf(c().shape({value:c().oneOfType([c().string,c().number]),title:c().oneOfType([c().string,c().number]),description:c().string,disabled:c().bool})),data:c().oneOfType([c().array,c().shape({hasEmptyDefault:c().bool,emptyString:c().oneOfType([c().string,c().number])})])},g.defaultProps={source:[],extraClass:"",className:"",data:{emptyString:l()._t("Boolean.ANY","Any")}};var m=o()(g);document.addEventListener("DOMContentLoaded",(()=>{n().component.register("ElementDropdownField",m),n().transform("element-link",(e=>{e.form.alterSchema("Link.EditingLinkInfo",(e=>e.updateField("PageID",{onChange:function(e){jQuery("input[name=PageID]").val(e).trigger("change",e)}}).getState()))}))}))}();
//# sourceMappingURL=boot.js.map